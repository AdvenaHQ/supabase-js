import{globalOptions as u}from"./index";function d(r){const s=r.from;return r.from=function(o){const t=s.call(this,o);t.cache=function(e){return this.expireAfterSeconds=e>0?e:0,this};const c=t.select;return t.select=function(e,i){if(typeof this.expireAfterSeconds=="number"&&this.expireAfterSeconds>0&&u.cache?.provider){const h=this.fetch||fetch,a=async(f,n)=>{const l={...n?.headers||{},"Cache-Control":`public, max-age=${this.expireAfterSeconds}`,"X-TTL":`${this.expireAfterSeconds}`};return h(f,{...n,headers:l})};return this.fetch=a,c.call(this,e,i)}return c.call(this,e,i)},t},r}export{d as extendSupabaseClient};
//# sourceMappingURL=extend.js.map
